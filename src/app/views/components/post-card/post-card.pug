include ../../components/title/title
include ../../components/text/text
include ../../components/link/index

mixin PostCard
  -
    const {class: className, post = {
      categories: [{name: 'Ð”Ð¸Ð·Ð°Ð¹Ð½', url: 'posts/design'}, {name: 'Ð£Ð´Ð°Ð»Ñ‘Ð½Ð½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°', url: 'posts/remote-work'}],
      images: [{url: '/img/skyscraper@1x.jpg', size: '1x'}, {url: 'img/skyscraper@2x.jpg', size: '2x'}],
      date: '2021-08-16T17:51:12.928Z',
      title: 'Ð¯ Ð½Ð¸Ñ‡ÐµÐ³Ð¾ Ð½Ðµ Ð¿Ð¾Ð½ÑÐ»',
      previewText: 'Ð•ÑÐ»Ð¸ Ð²Ñ‹ ÑÐ°Ð¼Ð¸ Ð¿Ð¸ÑˆÐµÑ‚Ðµ Ñ‚Ð°ÐºÐ¸Ðµ Ð¿Ð¸ÑÑŒÐ¼Ð° â€” Ð¿Ð¾Ñ‡Ð¸Ñ‚Ð°Ð¹Ñ‚Ðµ Ð˜Ð»ÑŒÑÑ…Ð¾Ð²Ð°. Ð Ð² ÑÑ‚Ð¾Ð¹ Ð·Ð°Ð¼ÐµÑ‚ÐºÐµ Ñ Ñ€Ð°ÑÑÐºÐ°Ð¶Ñƒ Ð¿Ñ€Ð¾ Ð·Ð°ÐºÐ»Ð¸Ð½Ð°Ð½Ð¸Ðµ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ðµ Ð¾Ñ‚ Ñ‚Ð°ÐºÐ¸Ñ… Ð¿Ð¸ÑÐµÐ¼ Ð¿Ð¾Ð¼Ð¾Ð³Ð°ÐµÑ‚.',
      commentsAmount: 25,
      url: '/posts/1',
    }} = attributes;
    const {
      categories,
      images,
      date,
      title,
      previewText,
      commentsAmount,
      url,
    } = post;

    const postCardImageSrcSet = images.map(({url, size}) => `${url} ${size}`).join(',');
    const image = images[0];

  article(class=['post-card', className])
    ul.post-card__category-list
      each category in categories
        li.post-card__category-list-item
          +LinkContainer.post-card__category-link(href=category.url, size='200', theme='royal-blue') #{category.name}
    img.post-card__image(
      src=image.url,
      width=image.width,
      srcSet=postCardImageSrcSet,
      height=image.height,
      alt=image.alt,
    )
    time.post-card__date(datetime=date) #{getUserFriendlyDateString(date)}
    +Title.post-card__title(tag='h3')
      +LinkContainer(href=url, size='450', theme='royal-blue') #{title}
    +Text.post-card__preview-text(size='200') #{previewText}
    +LinkContainer.post-card__post-comments-link(href=`${url}#comments`, size='200', theme='royal-blue')
      | ÐšÐ¾Ð¼Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð¸ ðŸ’¬
      | #{commentsAmount}
